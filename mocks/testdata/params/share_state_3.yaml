- name: calls number MUST be checked at the end of shareState
  method: GET
  path: /test/path1
  response:
    200: "result1"
  mocksParams:
    shareState: true
  mocks:
    someservice:
      strategy: sequence
      calls: 1
      sequence:
        - strategy: constant
          body: "result1"
          statusCode: 200
        - strategy: constant
          body: "result2"
          statusCode: 200
        - strategy: constant
          body: "result3"
          statusCode: 200

- name: test MUST receive second response from sequence strategy
  method: GET
  path: /test/path2
  response:
    200: "result2"
  mocksParams:
    shareState: true

- name: test MUST receive third response from sequence strategy
  method: GET
  path: /test/path3
  response:
    200: "result3"
  mocksParams:
    shareState: true
  meta:
    expected: |
       1) mock 'someservice': path '$': number of 'calls' does not match:
            expected: 1
              actual: 3
